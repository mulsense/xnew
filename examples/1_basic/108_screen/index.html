<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <script src="../../dist/xnew.js"></script>
</head>

<body>
  <div id="main" style="position: relative; width: 100%; height: 100vh;"></div>
  <script>
    xnew('#main', (self) => {
      xnew.nest('<div style="display: flex; gap: 12px; padding: 12px;">');
        
      xnew('<div>', (self) => {
        xnew('<p>', 'canvas');
        xnew.nest('<div style="width: 120px; height: 120px; border: 1px solid #A0A;">');

        const unit = xnew('<canvas width="400" height="200" style="width: 100%; border: 1px solid #ccc;">');
        draw(unit)
      });

      xnew('<div>', (self) => {
        xnew('<p>', 'screen: contain');
        xnew.nest('<div style="width: 120px; height: 120px; border: 1px solid #A0A;">');

        const screen = xnew(xnew.Screen, { width: 400, height: 200, fit: 'contain' });
        draw(screen)
      });
      
      xnew('<div>', (self) => {
        xnew('<p>', 'screen: cover');
        xnew.nest('<div style="width: 120px; height: 120px; border: 1px solid #A0A;">');

        const screen = xnew(xnew.Screen, { width: 400, height: 200, fit: 'cover' });
        draw(screen)
      });

      xnew('<div>', (self) => {
        xnew('<p>', 'screen: fill');
        xnew.nest('<div style="width: 120px; height: 120px; border: 1px solid #A0A;">');

        const screen = xnew(xnew.Screen, { width: 400, height: 200, fit: 'fill' });
        draw(screen)
      });

      function draw(unit) {
        const canvas = unit.element;
        const context = canvas.getContext('2d');
        const [cx, cy] = [canvas.width / 2, canvas.height / 2];
        const size = 80;

        context.fillStyle = 'rgb(0,0,0)';
        context.fillRect(0, 0, canvas.width, canvas.height);
        context.fillStyle = 'rgb(200,0,100)';
        context.fillRect(cx - 0.6 * cx - size / 2, cy - size / 2, size, size);
        context.fillStyle = 'rgb(100,200,0)';
        context.fillRect(cx + 0.0 * cx - size / 2, cy - size / 2, size, size);
        context.fillStyle = 'rgb(0,100,200)';
        context.fillRect(cx + 0.6 * cx - size / 2, cy - size / 2, size, size);
      }
    });

  </script>
</body>

</html>